function Ajaxcall(r,e){var a;return $.ajax({url:"/"+e,type:"Post",data:r,dataType:"json",async:!1,success:function(r){a=r},error:function(r,e,t){console.log("Error: "+JSON.stringify(r)),console.log("Status Code: "+e),console.log("statusText: "+t),alert("An error has occurred"),$("#info").html("<p>An error has occurred</p>"),a="Something went be wrong!!"}}),a}function AjaxcallGet(r,e){var a;return $.ajax({url:"/"+e,type:"Get",data:r,dataType:"json",async:!1,success:function(r){a=r},error:function(r,e,t){console.log("Error: "+JSON.stringify(r)),console.log("Status Code: "+e),console.log("statusText: "+t),alert("An error has occurred"),$("#info").html("<p>An error has occurred</p>"),a="Something went be wrong!!"}}),a}function scroll_to_class(r,e){var a=$(r).offset().top-e;$(window).scrollTop()!=a&&$(".form-wizard").stop().animate({scrollTop:a},0)}function bar_progress(r,e){var a=r.data("number-of-steps"),t=r.data("now-value"),o=0;"right"==e?o=t+100/a:"left"==e&&(o=t-100/a),r.attr("style","width: "+o+"%;").data("now-value",o)}jQuery(document).ready(function(){$(".form-wizard fieldset:first").fadeIn("slow"),$(".form-wizard .required").on("focus",function(){$(this).removeClass("input-error")}),$(".form-wizard .btn-next").on("click",function(){var r=$(this).parents("fieldset"),e=!0,a=$(this).parents(".form-wizard").find(".form-wizard-step.active"),t=$(this).parents(".form-wizard").find(".form-wizard-progress-line");r.find(".required").each(function(){""==$(this).val()?($(this).addClass("input-error"),e=!1):$(this).removeClass("input-error")}),e&&r.fadeOut(400,function(){a.removeClass("active").addClass("activated").next().addClass("active"),bar_progress(t,"right"),$(this).next().fadeIn(),scroll_to_class($(".form-wizard"),20)})}),$(".form-wizard .btn-previous").on("click",function(){var r=$(this).parents(".form-wizard").find(".form-wizard-step.active"),e=$(this).parents(".form-wizard").find(".form-wizard-progress-line");$(this).parents("fieldset").fadeOut(400,function(){r.removeClass("active").prev().removeClass("activated").addClass("active"),bar_progress(e,"left"),$(this).prev().fadeIn(),scroll_to_class($(".form-wizard"),20)})}),$(".form-wizard").on("submit",function(r){$(this).find(".required").each(function(){""==$(this).val()?(r.preventDefault(),$(this).addClass("input-error")):$(this).removeClass("input-error")})})});var $dropzone=$(".image_picker"),$droptarget=$(".drop_target"),$dropinput=$("#inputFile"),$dropimg=$(".image_preview"),$remover=$('[data-action="remove_current_image"]');$dropzone.on("dragover",function(){return $droptarget.addClass("dropping"),!1}),$dropzone.on("dragend dragleave",function(){return $droptarget.removeClass("dropping"),!1}),$dropzone.on("drop",function(r){$droptarget.removeClass("dropping"),$droptarget.addClass("dropped"),$remover.removeClass("disabled"),r.preventDefault();var e=r.originalEvent.dataTransfer.files[0],a=new FileReader;return a.onload=function(r){$dropimg.css("background-image","url("+r.target.result+")")},console.log(e),a.readAsDataURL(e),!1}),$dropinput.change(function(r){$droptarget.addClass("dropped"),$remover.removeClass("disabled"),$(".image_title input").val("");var e=$dropinput.get(0).files[0],a=new FileReader;a.onload=function(r){$dropimg.css("background-image","url("+r.target.result+")")},a.readAsDataURL(e)}),$remover.on("click",function(){$dropimg.css("background-image",""),$droptarget.removeClass("dropped"),$remover.addClass("disabled"),$(".image_title input").val("")}),$(".image_title input").blur(function(){""!=$(this).val()&&$droptarget.removeClass("dropped")});var $wrap=$("#main"),$signUpBtn=$wrap.find("#signUpBtn"),$loginBtn=$wrap.find("#loginBtn");$signUpBtn.on("click",function(){$wrap.addClass("singUpActive"),$wrap.removeClass("loginActive")}),$loginBtn.on("click",function(){$wrap.addClass("loginActive"),$wrap.removeClass("singUpActive")}),$(function(){$("#login").click(function(){var r=Ajaxcall({email:$("input[id='mail']").val(),password:$("input[id='pass']").val()},"login");"OK"==r.status?window.location.href=r.url:alert(r.msg)}),$("#signup").click(function(){var r=Ajaxcall({firstName:$("input[id='first']").val(),lastName:$("input[id='last']").val(),email:$("input[id='mail']").val(),password:$("input[id='pass']").val()},"register");alert(r)})});